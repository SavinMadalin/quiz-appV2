# Settings for Cloud Run
cloud_run:
  container_concurrency: 80
  cpu: 1
  max_instances: 10
  memory: 1024Mi
runtime: nodejs20
gen:
  envVars:
    - name: NODE_OPTIONS # Add this lines to apphosting.yaml
      value: "--max-old-space-size=2048"
# Environment variables and secrets
env:
  - variable: REACT_APP_FIREBASE_STORAGE_BUCKET
    value: myproject-6969b.firebasestorage.app
    availability:
      - BUILD
      - RUNTIME

  - variable: REACT_APP_FIREBASE_MESSAGING_SENDER_ID
    value: 902764868157
    availability:
      - BUILD
      - RUNTIME

  - variable: REACT_APP_FIREBASE_PROJECT_ID
    value: myproject-6969b
    availability:
      - BUILD
      - RUNTIME

  - variable: REACT_APP_FIREBASE_API_KEY
    secret: api-key

    # Same as API_KEY above but with a pinned version.
  - variable: REACT_APP_FIREBASE_AUTH_DOMAIN
    secret: auth-domain

    # Same as API_KEY above but with the long form secret reference as defined by Cloud Secret Manager.
  - variable: REACT_APP_FIREBASE_APP_ID
    secret: app-id
